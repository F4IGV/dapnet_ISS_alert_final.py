# ISS DAPNET Alert Script  
By F4IGV and ChatGPT  
ASCII only - POCSAG compatible

This project provides a full Python script that detects upcoming ISS passes and sends real time alerts through the DAPNET pager network.  
The script uses Skyfield for orbital calculations, stores all events in UTC, and generates DAPNET messages in local time.

It is designed for amateur radio operators who want to receive ISS alerts directly on their POCSAG pagers via DAPNET.

---

## Features

- Automatic download of ISS TLE data (AMSAT + Celestrak)  
- Pass prediction for the next 2 hours  
- Detection of 4 main events:  
  - Prealert (15 min before rise)  
  - Start of visibility  
  - Peak (maximum elevation)  
  - End of pass  
- Real time azimuth and elevation calculation  
- Fully ASCII messages for POCSAG compatibility  
- JSON state prevents duplicate alerts  
- Auto reset after each completed pass  
- Detailed local and UTC logging  
- Can be executed manually or from any external scheduler  

---

## Message format

### Prealert  
```text
ISS dans 15 min HH:MM - Azimut X
```

### Start / Peak / End  
```text
ISS visible HH:MM - Azimut X Elevation Y
ISS zenith HH:MM - Azimut X Elevation Y
ISS fin HH:MM - Azimut X Elevation Y
```

All message times are local.  
All calculations are performed internally in UTC.

---

## Installation

### 1. Clone the repository
```bash
git clone https://github.com/your_username/your_repository.git
cd your_repository
```

### 2. Install Python 3
Python 3.8 or newer is recommended.

Check your version:
```bash
python --version
```

### 3. Install required Python packages
```bash
pip install requests skyfield
```

### 4. Configure DAPNET credentials
Edit the script and set:
```python
DAPNET_USER = "YourCall"
DAPNET_PASS = "YourPassword"
CALLSIGNS = ["Call1", "Call2"]
TX_GROUP   = "YourTxGroup"
```

### 5. Configure your QTH
```python
LAT = 48.1173
LON = -1.6778
ALT = 60
```

### 6. Manual execution
```bash
python iss_alert.py
```

This creates:
```
iss_state.json
iss_debug.log
```

---

## How it works

1. Script loads or initializes the state file  
2. Downloads fresh ISS TLE data  
3. Predicts the next ISS pass  
4. On each execution, checks if current time matches one of the events  
5. If a time window matches, the script computes azimuth/elevation and sends a DAPNET message  
6. State prevents duplicate alerts  
7. Pass resets automatically when finished  

The script can be run manually or automated using any external scheduling system.

---

## Project structure

```
iss_alert.py        # Main script
iss_state.json      # Autogenerated - stores pass state
iss_debug.log       # Autogenerated - debug log
README.md           # Documentation
```

---

## Requirements

- Python 3.8+  
- requests  
- skyfield  

Install dependencies:
```bash
pip install requests skyfield
```

---

## Troubleshooting

- No messages sent  
  - Check DAPNET credentials  
  - Verify network connectivity  
  - Check TLE download logs  

- Wrong azimuth/elevation  
  - Verify LAT, LON, ALT values  

- Duplicate messages  
  - Delete `iss_state.json` and rerun  

- TLE errors  
  - AMSAT or Celestrak may be unreachable temporarily  

---

## License

This project is provided for amateur radio experimentation.  
Use at your own responsibility.

---

## Credits

Developed by **F4IGV** with assistance from **ChatGPT**.  
Thanks to the amateur radio community for support, testing, and feedback.

